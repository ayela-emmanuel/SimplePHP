# Enable the RewriteEngine
RewriteEngine On

# Ensure that URLs are routed through index.php unless they are static files in the www folder
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} !^/www/
RewriteCond %{REQUEST_URI} !^/uploads/
RewriteRule ^(.*)$ /index.php/$1 [L]

# Optional: Handle trailing slashes (remove if not needed)
RewriteCond %{REQUEST_URI} ^(.+)/$
RewriteRule ^ %1 [R=301,L]

# Optional: Set the default index file
DirectoryIndex index.php